<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <!-- Favicon -->
    <link rel="icon" href="amstor.png" type="image/png">
    <link rel="apple-touch-icon" href="amstor.png">
    <!-- Meta Tags & Open Graph -->
    <meta property="og:title" content="AM Store | Ø§Ù„Ø­Ù‚Ø§Ø¦Ø¨ Ø§Ù„Ø±Ø¬Ø§Ù„ÙŠØ© Ø§Ù„Ø£Ù†ÙŠÙ‚Ø©">
    <meta property="og:description" content="ØªØ³ÙˆÙ‚ Ø£ÙØ¶Ù„ Ø§Ù„Ø­Ù‚Ø§Ø¦Ø¨ Ø§Ù„Ø±Ø¬Ø§Ù„ÙŠØ© Ø¨Ø£Ù†Ø§Ù‚Ø© Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±">
    <meta property="og:image" content="https://mrparly4-ship-it.github.io/amstore/Amstore.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ¬Ø± Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„ÙØ§Ø®Ø±Ø© | Luxury Watch DZ</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-auth-compat.js"></script>

    <style>
        body { 
            font-family: 'Cairo', sans-serif; 
            background-color: #f8fafc;
            background-image: radial-gradient(at 0% 0%, rgba(202, 138, 4, 0.05) 0px, transparent 50%);
            background-attachment: fixed;
        }
        .glass-card { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.5); }
        .hero-bg { background-image: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1614164185128-e4ec99c436d7?q=80&w=1974&auto=format&fit=crop'); background-size: cover; background-position: center; border-radius: 0 0 50px 50px; }
        .product-card { transition: transform 0.3s ease; }
        .product-card:hover { transform: translateY(-10px); }
    </style>
</head>
<body class="text-gray-900 overflow-x-hidden">

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white/70 backdrop-blur-md border-b border-white/20">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div onclick="handleLogoClick(event)" class="flex items-center gap-3 cursor-pointer group">
                <img src="https://i.ibb.co/Mx1V8NMQ/logo.png" alt="AMstore Logo" class="h-14 w-14 object-contain">
                <div>
                    <span class="text-xl font-bold block">AMstore<span class="text-yellow-600">DZ</span></span>
                </div>
            </div>
            <button onclick="showAdminLogin()" class="text-xs bg-gray-100 px-4 py-2 rounded-lg hover:bg-gray-200">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
        </div>
    </header>

    <!-- Hero -->
    <section class="container mx-auto px-4 mt-6">
        <div class="hero-bg text-white flex items-center justify-center text-center px-4 py-20 shadow-2xl">
            <div class="max-w-3xl">
                <h1 class="text-4xl md:text-6xl font-bold mb-6">Ø£Ù†Ø§Ù‚ØªÙƒ ØªØ¨Ø¯Ø£ Ù…Ù† <span class="text-yellow-500">Ù‡Ù†Ø§</span></h1>
                <p class="text-gray-200 text-lg mb-10">Ø§ÙƒØªØ´Ù Ù…Ø¬Ù…ÙˆØ¹ØªÙ†Ø§ Ø§Ù„Ø­ØµØ±ÙŠØ© Ø§Ù„Ù…Ø­Ø¯Ø«Ø© Ø³Ø­Ø§Ø¨ÙŠØ§Ù‹.</p>
                <a href="#products" class="bg-yellow-600 hover:bg-yellow-700 text-white px-10 py-4 rounded-2xl font-bold transition-all">Ø§Ø³ØªØ¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
            </div>
        </div>
    </section>

    <!-- Products -->
    <main id="products" class="container mx-auto px-4 py-20">
        <div id="loading-spinner" class="flex justify-center py-20">
            <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-600"></div>
        </div>
        <div id="products-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10 hidden"></div>
    </main>

    <!-- Admin Panel -->
    <div id="admin-login" class="fixed inset-0 bg-black/60 hidden z-[100] flex items-center justify-center p-4">
        <div class="bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full">
            <h3 class="text-xl font-bold mb-6 text-center">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>
            <input type="password" id="admin-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" class="w-full p-4 border rounded-2xl mb-6 text-center">
            <div class="flex gap-3">
                <button onclick="checkPassword()" class="flex-1 bg-yellow-600 text-white py-3 rounded-2xl">Ø¯Ø®ÙˆÙ„</button>
                <button onclick="hideAdminLogin()" class="flex-1 bg-gray-100 py-3 rounded-2xl">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <div id="admin-panel" class="fixed inset-0 bg-gray-50 hidden z-[110] overflow-y-auto p-4 md:p-10 text-right">
        <div class="max-w-5xl mx-auto">
            <div class="flex justify-between items-center mb-10 bg-white p-6 rounded-3xl shadow-sm">
                <h2 class="text-2xl font-bold">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
                <button onclick="logoutAdmin()" class="bg-red-500 text-white px-6 py-2 rounded-xl">Ø®Ø±ÙˆØ¬</button>
            </div>
            <div class="grid lg:grid-cols-2 gap-8">
                <div class="bg-white p-8 rounded-3xl shadow-sm">
                    <h3 class="font-bold mb-4">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</h3>
                    <div class="space-y-4">
                        <input type="text" id="p-name" placeholder="Ø§Ù„Ø§Ø³Ù…" class="w-full p-3 border rounded-xl">
                        <input type="number" id="p-price" placeholder="Ø§Ù„Ø³Ø¹Ø±" class="w-full p-3 border rounded-xl">
                        <input type="text" id="p-image" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©" class="w-full p-3 border rounded-xl">
                        <textarea id="p-desc" placeholder="Ø§Ù„ÙˆØµÙ" class="w-full p-3 border rounded-xl h-24"></textarea>
                        <button onclick="addProductToCloud()" class="w-full bg-yellow-600 text-white py-4 rounded-xl font-bold">Ù†Ø´Ø±</button>
                    </div>
                </div>
                <div class="bg-white p-8 rounded-3xl shadow-sm">
                    <h3 class="font-bold mb-4">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
                    <input type="text" id="tg-token" placeholder="Telegram Bot Token" class="w-full p-3 border rounded-xl mb-4">
                    <input type="text" id="tg-chatid" placeholder="Telegram Chat ID" class="w-full p-3 border rounded-xl mb-4">
                    <button onclick="saveSettingsToCloud()" class="w-full bg-blue-600 text-white py-3 rounded-xl mb-6">Ø­ÙØ¸</button>
                    <div id="admin-product-list" class="space-y-2"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div id="modal" class="fixed inset-0 bg-black/40 backdrop-blur-sm hidden z-[100] flex items-center justify-center p-4">
        <div class="bg-white rounded-[40px] max-w-4xl w-full max-h-[90vh] overflow-y-auto relative p-8">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-2xl">&times;</button>
            <div id="modal-content" class="grid md:grid-cols-2 gap-10 text-right"></div>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = JSON.parse(__firebase_config);
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'amstore-default';

        // Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø© ÙˆØ§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØµØ§Ø±Ù…Ø© (6 Ø£Ø¬Ø²Ø§Ø¡ Ù„Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª)
        const CONFIG_DOC_PATH = `artifacts/${appId}/public/data/config/settings`;
        const PRODUCTS_COL_PATH = `artifacts/${appId}/public/data/products`;

        const ADMIN_PASS = "mohabd12";
        let products = [];
        let settings = { token: '', chatid: '' };

        async function init() {
            try {
                // Rule 3: Auth First
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    await auth.signInWithCustomToken(__initial_auth_token);
                } else {
                    await auth.signInAnonymously();
                }

                // Ù†Ù†ØªØ¸Ø± Ø­ØªÙ‰ Ù†ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…
                auth.onAuthStateChanged((user) => {
                    if (user) {
                        startListening();
                    } else {
                        console.error("Authentication failed.");
                    }
                });

            } catch (e) { 
                console.error("Init Error:", e);
            }
        }

        function startListening() {
            // Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª
            db.collection(PRODUCTS_COL_PATH).onSnapshot(snapshot => {
                products = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderProducts();
                document.getElementById('loading-spinner').style.display = 'none';
                document.getElementById('products-list').classList.remove('hidden');
            }, err => {
                console.error("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Permissions):", err);
                document.getElementById('loading-spinner').innerHTML = `<p class="text-red-500 text-center">Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</p>`;
            });

            // Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            db.doc(CONFIG_DOC_PATH).onSnapshot(doc => {
                if(doc.exists) {
                    settings = doc.data();
                    document.getElementById('tg-token').value = settings.token || '';
                    document.getElementById('tg-chatid').value = settings.chatid || '';
                }
            }, err => {
                console.warn("Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© Ø£Ùˆ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø­Ø¯ÙˆØ¯Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.");
            });
        }

        function renderProducts() {
            const list = document.getElementById('products-list');
            const adminList = document.getElementById('admin-product-list');
            
            list.innerHTML = products.map(p => `
                <div class="glass-card product-card rounded-[40px] overflow-hidden group border border-gray-100">
                    <div class="h-64 overflow-hidden">
                        <img src="${p.img || 'https://via.placeholder.com/400x400?text=No+Image'}" 
                             onclick="openProduct('${p.id}')" 
                             class="w-full h-full object-cover cursor-pointer hover:scale-105 transition"
                             onerror="this.src='https://via.placeholder.com/400x400?text=Error'">
                    </div>
                    <div class="p-6 text-center">
                        <h3 class="font-bold text-lg mb-2">${p.name}</h3>
                        <div class="text-yellow-700 font-black mb-4">${p.price} Ø¯Ø¬</div>
                        <button onclick="openProduct('${p.id}')" class="w-full bg-gray-900 text-white py-3 rounded-xl hover:bg-black transition">Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬</button>
                    </div>
                </div>
            `).join('');

            adminList.innerHTML = products.map(p => `
                <div class="flex justify-between items-center bg-gray-50 p-2 rounded-lg text-sm border">
                    <span>${p.name}</span>
                    <button onclick="deleteProductFromCloud('${p.id}')" class="text-red-500 font-bold px-2">Ø­Ø°Ù</button>
                </div>
            `).join('');
        }

        async function addProductToCloud() {
            if (!auth.currentUser) return alert("ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹");
            const name = document.getElementById('p-name').value;
            const price = document.getElementById('p-price').value;
            const img = document.getElementById('p-image').value;
            const desc = document.getElementById('p-desc').value;

            if(!name || !price) return alert("ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©");

            try {
                await db.collection(PRODUCTS_COL_PATH).add({
                    name, 
                    price: parseInt(price), 
                    img, 
                    desc,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­");
                // Clear fields
                document.getElementById('p-name').value = '';
                document.getElementById('p-price').value = '';
            } catch (err) {
                alert("ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©: " + err.message);
            }
        }

        async function deleteProductFromCloud(id) {
            if (!auth.currentUser) return;
            if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ")) {
                try {
                    await db.collection(PRODUCTS_COL_PATH).doc(id).delete();
                } catch (err) {
                    alert("ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø­Ø°Ù: " + err.message);
                }
            }
        }

        async function saveSettingsToCloud() {
            if (!auth.currentUser) return;
            const token = document.getElementById('tg-token').value;
            const chatid = document.getElementById('tg-chatid').value;
            try {
                await db.doc(CONFIG_DOC_PATH).set({ token, chatid }, { merge: true });
                alert("ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª");
            } catch (err) {
                alert("ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª: " + err.message);
            }
        }

        function openProduct(id) {
            const p = products.find(x => x.id === id);
            const content = document.getElementById('modal-content');
            content.innerHTML = `
                <img src="${p.img || 'https://via.placeholder.com/400x400'}" class="w-full rounded-2xl shadow-lg">
                <div>
                    <h2 class="text-2xl font-bold mb-4">${p.name}</h2>
                    <p class="text-gray-600 mb-6">${p.desc || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù…ØªØ§Ø­.'}</p>
                    <p class="text-yellow-700 text-xl font-bold mb-6">${p.price} Ø¯Ø¬</p>
                    <form onsubmit="confirmOrder(event, '${p.id}')" class="space-y-4">
                        <input type="text" id="u-name" required placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" class="w-full p-4 bg-gray-100 rounded-xl border-none outline-yellow-600">
                        <input type="tel" id="u-phone" required placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±)" class="w-full p-4 bg-gray-100 rounded-xl border-none outline-yellow-600">
                        <button type="submit" id="orderBtn" class="w-full bg-yellow-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-yellow-700 transition">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
                    </form>
                </div>
            `;
            document.getElementById('modal').classList.remove('hidden');
        }

        async function confirmOrder(e, pid) {
            e.preventDefault();
            const btn = document.getElementById('orderBtn');
            btn.disabled = true;
            btn.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

            const p = products.find(x => x.id === pid);
            const name = document.getElementById('u-name').value;
            const phone = document.getElementById('u-phone').value;
            
            const msg = `ğŸ›ï¸ *Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±*:\n\n` +
                        `ğŸ“¦ *Ø§Ù„Ù…Ù†ØªØ¬:* ${p.name}\n` +
                        `ğŸ’° *Ø§Ù„Ø³Ø¹Ø±:* ${p.price} Ø¯Ø¬\n\n` +
                        `ğŸ‘¤ *Ø§Ù„Ø¹Ù…ÙŠÙ„:* ${name}\n` +
                        `ğŸ“ *Ø§Ù„Ù‡Ø§ØªÙ:* ${phone}`;
            
            if(!settings.token || !settings.chatid) {
                btn.disabled = false;
                btn.innerHTML = "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨";
                return alert("Ø®Ø·Ø£: Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª ØºÙŠØ± Ù…ÙƒØªÙ…Ù„Ø© ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ….");
            }

            try {
                await fetch(`https://api.telegram.org/bot${settings.token}/sendMessage?chat_id=${settings.chatid}&text=${encodeURIComponent(msg)}&parse_mode=Markdown`);
                alert("ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†ØªØµÙ„ Ø¨Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.");
                closeModal();
            } catch (err) { 
                alert("Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨. Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹."); 
            } finally {
                btn.disabled = false;
            }
        }

        function showAdminLogin() { document.getElementById('admin-login').classList.remove('hidden'); }
        function hideAdminLogin() { document.getElementById('admin-login').classList.add('hidden'); }
        function checkPassword() { if(document.getElementById('admin-password').value === ADMIN_PASS) { hideAdminLogin(); document.getElementById('admin-panel').classList.remove('hidden'); } else { alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©"); } }
        function logoutAdmin() { document.getElementById('admin-panel').classList.add('hidden'); }
        function closeModal() { document.getElementById('modal').classList.add('hidden'); }
        let lClicks = 0; function handleLogoClick(e) { if(Date.now() - lClicks < 400) showAdminLogin(); lClicks = Date.now(); }

        init();
    </script>
</body>
</html>
            border-radius: 0 0 50px 50px;
        }

        .product-card:hover {
            transform: translateY(-10px);
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #ca8a04; border-radius: 10px; }
        
        input, select, textarea {
            background: rgba(255, 255, 255, 0.9) !important;
        }
    </style>
</head>
<body class="text-gray-900 overflow-x-hidden">

    <!-- Decorative background shapes -->
    <div class="bg-shape w-96 h-96 bg-yellow-100 top-[-10%] left-[-10%]"></div>
    <div class="bg-shape w-80 h-80 bg-blue-50 bottom-[-5%] right-[-5%]"></div>

    <!-- Header -->
    <header class="sticky top-0 z-50 transition-all duration-300 bg-white/70 backdrop-blur-md border-b border-white/20">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div onclick="handleLogoClick(event)" class="flex items-center gap-3 cursor-pointer select-none group">
                  <div class="bg-white p-1.5 rounded-2xl shadow-lg group-active:scale-90 transition">
                     <img 
            src="https://i.ibb.co/Mx1V8NMQ/logo.png"
            alt="AMstore Logo"
            class="h-20 w-20 object-contain rounded-xl"
        >
                </div>
                <span class="text-xl font-bold tracking-tight">
    AMstore<span class="text-yellow-600">DZ</span>
  </span>

  <span class="mt-1 text-xs text-gray-500 flex items-center gap-1">
    <span class="w-2 h-2 bg-green-500 rounded-full"></span>
    ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ù€ 58 ÙˆÙ„Ø§ÙŠØ©
  </span>
</div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="container mx-auto px-4 mt-6">
        <div class="hero-bg text-white flex items-center justify-center text-center px-4 py-24 shadow-2xl overflow-hidden relative">
            <div class="relative z-10 max-w-3xl mx-auto">
                <span class="bg-yellow-600/30 backdrop-blur-md border border-yellow-500/50 text-yellow-400 px-4 py-1.5 rounded-full text-sm font-bold mb-6 inline-block">ØªØ´ÙƒÙŠÙ„Ø© 2026 Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</span>
                <h1 class="text-5xl md:text-7xl font-bold mb-6 leading-tight">Ø£Ù†Ø§Ù‚ØªÙƒ ØªØ¨Ø¯Ø£ Ù…Ù† <br><span class="text-yellow-500">Ù…Ø¹ØµÙ…Ùƒ</span></h1>
                <p class="text-gray-200 text-lg md:text-xl max-w-xl mx-auto mb-10 leading-relaxed">Ø§ÙƒØªØ´Ù Ù…Ø¬Ù…ÙˆØ¹ØªÙ†Ø§ Ø§Ù„Ø­ØµØ±ÙŠØ© Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„ÙØ§Ø®Ø±Ø© Ø§Ù„ØªÙŠ ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø¯Ù‚Ø© Ø§Ù„Ø³ÙˆÙŠØ³Ø±ÙŠØ© ÙˆØ§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹ØµØ±ÙŠ.</p>
                <a href="#products" class="bg-yellow-600 hover:bg-yellow-700 text-white px-10 py-4 rounded-2xl font-bold transition-all shadow-xl inline-block transform hover:scale-105 active:scale-95">Ø§Ø³ØªØ¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
            </div>
        </div>
    </section>

    <!-- Categories / Features -->
    <div class="container mx-auto px-4 mt-16 grid grid-cols-2 md:grid-cols-4 gap-4">
        <div class="glass-card p-6 rounded-3xl text-center border-b-4 border-yellow-600">
            <div class="text-3xl mb-2">ğŸšš</div>
            <div class="font-bold text-sm">ØªÙˆØµÙŠÙ„ Ù…Ù†Ø²Ù„ÙŠ</div>
        </div>
        <div class="glass-card p-6 rounded-3xl text-center border-b-4 border-yellow-600">
            <div class="text-3xl mb-2">ğŸ’</div>
            <div class="font-bold text-sm">Ø¬ÙˆØ¯Ø© Ù…Ø¶Ù…ÙˆÙ†Ø©</div>
        </div>
        <div class="glass-card p-6 rounded-3xl text-center border-b-4 border-yellow-600">
            <div class="text-3xl mb-2">ğŸ¤</div>
            <div class="font-bold text-sm">Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</div>
        </div>
        <div class="glass-card p-6 rounded-3xl text-center border-b-4 border-yellow-600">
            <div class="text-3xl mb-2">ğŸ›¡ï¸</div>
            <div class="font-bold text-sm">Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©</div>
        </div>
    </div>

    <!-- Products Grid -->
    <main id="products" class="container mx-auto px-4 py-20">
        <div class="flex flex-col items-center mb-16">
            <h2 class="text-4xl font-bold mb-4">Ø£Ø­Ø¯Ø« Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª</h2>
            <div class="w-20 h-1.5 bg-yellow-600 rounded-full"></div>
        </div>
        <div id="products-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10"></div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-400 py-12 mt-20">
        <div class="container mx-auto px-4 text-center">
            <div class="text-2xl font-bold text-white mb-4">AM Store</div>
            <p class="text-sm max-w-md mx-auto mb-8">Ù†Ø­Ù† ÙØ®ÙˆØ±ÙˆÙ† Ø¨ØªÙ‚Ø¯ÙŠÙ… Ø£ÙØ¶Ù„ Ø®Ø¯Ù…Ø© Ø¨ÙŠØ¹ Ø³Ø§Ø¹Ø§Øª ÙÙŠ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ù…Ù†Ø° 2025. ÙØ®Ø§Ù…ØªÙƒ Ù‡ÙŠ Ù…Ù‡Ù…ØªÙ†Ø§.</p>
            <div class="border-t border-gray-800 pt-8 text-xs">
                Â© 2026 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù…ØªØ¬Ø± Ø³Ø§Ø¹Ø§ØªÙŠ DZ
            </div>
        </div>
    </footer>

    <!-- Admin Tools (Hidden) -->
    <div id="admin-login" class="fixed inset-0 admin-modal hidden z-[100] flex items-center justify-center p-4">
        <div class="bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full border border-gray-100">
            <h3 class="text-xl font-bold mb-6 text-center">Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</h3>
            <input type="password" id="admin-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" class="w-full p-4 border rounded-2xl mb-6 text-center outline-none focus:ring-2 focus:ring-yellow-600">
            <div class="flex gap-3">
                <button onclick="checkPassword()" class="flex-1 bg-yellow-600 text-white py-3 rounded-2xl font-bold">Ø¯Ø®ÙˆÙ„</button>
                <button onclick="hideAdminLogin()" class="flex-1 bg-gray-100 py-3 rounded-2xl font-bold">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <div id="admin-panel" class="fixed inset-0 bg-gray-50 hidden z-[110] overflow-y-auto p-4 md:p-10 text-right">
        <div class="max-w-5xl mx-auto">
            <div class="flex justify-between items-center mb-10 bg-white p-6 rounded-3xl shadow-sm">
                <h2 class="text-2xl font-bold">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø­ØªØ±Ø§ÙÙŠØ©</h2>
                <button onclick="logoutAdmin()" class="bg-red-500 text-white px-6 py-2 rounded-xl font-bold hover:bg-red-600">Ø®Ø±ÙˆØ¬</button>
            </div>

            <div class="grid lg:grid-cols-2 gap-8">
                <div class="bg-white p-8 rounded-3xl shadow-sm border border-gray-100">
                    <h3 class="text-lg font-bold mb-6 flex items-center gap-2"><span>â•</span> Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h3>
                    <div class="space-y-4">
                        <input type="text" id="p-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø³Ø§Ø¹Ø©" class="w-full p-4 border rounded-2xl outline-none focus:ring-2 focus:ring-yellow-600">
                        <input type="number" id="p-price" placeholder="Ø§Ù„Ø³Ø¹Ø± (Ø¯Ø¬)" class="w-full p-4 border rounded-2xl outline-none focus:ring-2 focus:ring-yellow-600">
                        <input type="text" id="p-image" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ø³Ø§Ø¹Ø©" class="w-full p-4 border rounded-2xl outline-none focus:ring-2 focus:ring-yellow-600">
                        <textarea id="p-desc" placeholder="ÙˆØµÙ Ø¬Ø°Ø§Ø¨ Ù„Ù„Ù…Ù†ØªØ¬..." class="w-full p-4 border rounded-2xl h-28 outline-none focus:ring-2 focus:ring-yellow-600"></textarea>
                        <input type="text" id="p-colors" placeholder="Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ§Ø­Ø© (Ù…Ø«Ø§Ù„: #000, #C0C0C0)" class="w-full p-4 border rounded-2xl outline-none focus:ring-2 focus:ring-yellow-600">
                        <button onclick="addProduct()" class="w-full bg-yellow-600 text-white py-4 rounded-2xl font-bold shadow-lg shadow-yellow-600/20">Ù†Ø´Ø± ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±</button>
                    </div>
                </div>

                <div class="bg-white p-8 rounded-3xl shadow-sm border border-gray-100">
                    <h3 class="text-lg font-bold mb-6 flex items-center gap-2"><span>âš™ï¸</span> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø¨Ø· (ØªÙ„ÙŠØ¬Ø±Ø§Ù…)</h3>
                    <div class="space-y-4">
                        <input type="text" id="tg-token" placeholder="Bot Token" class="w-full p-4 border rounded-2xl outline-none">
                        <input type="text" id="tg-chatid" placeholder="Chat ID Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ" class="w-full p-4 border rounded-2xl outline-none">
                        <input type="text" id="tg-chatid2" placeholder="Chat ID Ø¥Ø¶Ø§ÙÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" class="w-full p-4 border rounded-2xl outline-none">
                        <button onclick="saveSettings()" class="w-full bg-blue-600 text-white py-4 rounded-2xl font-bold">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
                    </div>
                    <div class="mt-10">
                        <h3 class="font-bold mb-4 border-b pb-2">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø© Ø­Ø§Ù„ÙŠØ§Ù‹:</h3>
                        <div id="admin-product-list" class="grid grid-cols-1 gap-2 max-h-64 overflow-y-auto pr-2"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div id="modal" class="fixed inset-0 bg-black/40 backdrop-blur-sm hidden z-[100] flex items-center justify-center p-4">
        <div class="bg-white/95 rounded-[40px] max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative border border-white">
            <button onclick="closeModal()" class="sticky top-4 right-4 z-20 float-left text-3xl font-bold bg-white/80 backdrop-blur shadow-lg w-12 h-12 rounded-2xl flex items-center justify-center hover:bg-yellow-600 hover:text-white transition-all">&times;</button>
            <div id="modal-content" class="grid md:grid-cols-2 gap-10 p-8 md:p-12 text-right"></div>
        </div>
    </div>

    <!-- Success Feedback -->
    <div id="success-notif" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-gray-900 text-white px-10 py-5 rounded-[30px] shadow-2xl z-[200] border border-yellow-600 hidden text-center animate-bounce">
        <p class="font-bold flex items-center gap-3"><span class="text-yellow-500 text-2xl">âœ”</span> ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†ØªØµÙ„ Ø¨Ùƒ.</p>
    </div>

    <script>
        const ADMIN_PASS = "mohabd12"; 
        let products = JSON.parse(localStorage.getItem('watches_db')) || [
            { id: 1, name: "Premium Gold Watch", price: 14500, img: "https://images.unsplash.com/photo-1542496658-e33a6d0d50f6?auto=format&fit=crop&w=500", desc: "Ø³Ø§Ø¹Ø© ÙØ§Ø®Ø±Ø© Ø¨Ø·Ù„Ø§Ø¡ Ø°Ù‡Ø¨ÙŠ Ù…Ù‚Ø§ÙˆÙ… Ù„Ù„ØµØ¯Ø£ØŒ ØªØ¹ÙƒØ³ Ø§Ù„Ø±Ù‚ÙŠ ÙˆØ§Ù„ØªÙ…ÙŠØ² ÙÙŠ ÙƒÙ„ ØªÙØ§ØµÙŠÙ„Ù‡Ø§.", colors: ["#FFD700", "#000000"] },
            { id: 2, name: "Silver Executive", price: 12800, img: "https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&w=500", desc: "ØªØµÙ…ÙŠÙ… ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ Ù…Ù† Ø§Ù„ÙÙˆÙ„Ø§Ø° Ø§Ù„Ù…Ù‚Ø§ÙˆÙ… Ù„Ù„ØµØ¯Ø£ØŒ Ù…Ø«Ø§Ù„ÙŠ Ù„Ø±Ø¬Ø§Ù„ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ÙˆØ§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©.", colors: ["#C0C0C0", "#333333"] }
        ];
        let settings = JSON.parse(localStorage.getItem('tg_config')) || { token: '', chatid: '', chatid2: '' };
        let selectedColor = "";
        let currentDeliveryPrice = 0;

        const WILAYAS_DATA = [
            {name: "02-Ø§Ù„Ø´Ù„Ù", price: 700}, {name: "03-Ø§Ù„Ø£ØºÙˆØ§Ø·", price: 900}, {name: "04-Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ", price: 750},
            {name: "05-Ø¨Ø§ØªÙ†Ø©", price: 750}, {name: "06-Ø¨Ø¬Ø§ÙŠØ©", price: 750}, {name: "07-Ø¨Ø³ÙƒØ±Ø©", price: 850}, 
            {name: "09-Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©", price: 600}, {name: "10-Ø§Ù„Ø¨ÙˆÙŠØ±Ø©", price: 700}, {name: "12-ØªØ¨Ø³Ø©", price: 800},
            {name: "13-ØªÙ„Ù…Ø³Ø§Ù†", price: 750}, {name: "14-ØªÙŠØ§Ø±Øª", price: 750}, {name: "15-ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ", price: 700}, {name: "16-Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±", price: 450},
            {name: "17-Ø§Ù„Ø¬Ù„ÙØ©", price: 850}, {name: "18-Ø¬ÙŠØ¬Ù„", price: 750}, {name: "19-Ø³Ø·ÙŠÙ", price: 700}, {name: "20-Ø³Ø¹ÙŠØ¯Ø©", price: 800},
            {name: "21-Ø³ÙƒÙŠÙƒØ¯Ø©", price: 750}, {name: "22-Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³", price: 750}, {name: "23-Ø¹Ù†Ø§Ø¨Ø©", price: 750}, {name: "24-Ù‚Ø§Ù„Ù…Ø©", price: 800},
            {name: "25-Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©", price: 700}, {name: "26-Ø§Ù„Ù…Ø¯ÙŠØ©", price: 700}, {name: "27-Ù…Ø³ØªØºØ§Ù†Ù…", price: 750}, {name: "28-Ø§Ù„Ù…Ø³ÙŠÙ„Ø©", price: 750},
            {name: "29-Ù…Ø¹Ø³ÙƒØ±", price: 800}, {name: "30-ÙˆØ±Ù‚Ù„Ø©", price: 950}, {name: "31-ÙˆÙ‡Ø±Ø§Ù†", price: 700}, {name: "32-Ø§Ù„Ø¨ÙŠØ¶", price: 1000},
            {name: "34-Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬", price: 700}, {name: "35-Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³", price: 650}, {name: "36-Ø§Ù„Ø·Ø§Ø±Ù", price: 850},
            {name: "39-Ø§Ù„ÙˆØ§Ø¯ÙŠ", price: 900}, {name: "40-Ø®Ù†Ø´Ù„Ø©", price: 800},
            {name: "41-Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³", price: 800}, {name: "42-ØªÙŠØ¨Ø§Ø²Ø©", price: 650}, {name: "43-Ù…ÙŠÙ„Ø©", price: 750}, {name: "44-Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰", price: 700},
            {name: "45-Ø§Ù„Ù†Ø¹Ø§Ù…Ø©", price: 850}, {name: "46-Ø¹ÙŠÙ† ØªÙŠÙ…ÙˆØ´Ù†Øª", price: 750}, {name: "47-ØºØ±Ø¯Ø§ÙŠØ©", price: 950}, {name: "48-ØºÙ„ÙŠØ²Ø§Ù†", price: 750},
            {name: "51-Ø£ÙˆÙ„Ø§Ø¯ Ø¬Ù„Ø§Ù„", price: 950}, {name: "55-ØªÙ‚Ø±Øª", price: 950},
            {name: "57-Ø§Ù„Ù…ØºÙŠØ±", price: 950}, {name: "58-Ø§Ù„Ù…Ù†ÙŠØ¹Ø©", price: 950}
        ];

        let lastClick = 0;
        function handleLogoClick(e) {
            const now = new Date().getTime();
            if (now - lastClick < 400) showAdminLogin();
            lastClick = now;
        }

        function renderProducts() {
            const list = document.getElementById('products-list');
            if(!list) return;
            list.innerHTML = products.map(p => `
                <div class="glass-card product-card rounded-[40px] overflow-hidden transition-all duration-500 group relative">
                    <div class="overflow-hidden h-80 relative">
                         <img src="${p.img}" onclick="openProduct(${p.id})" class="w-full h-full object-cover cursor-pointer group-hover:scale-110 transition duration-700">
                         <div class="absolute top-4 right-4 bg-yellow-600 text-white text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-widest shadow-lg">Ù…ØªÙˆÙØ±</div>
                    </div>
                    <div class="p-8 text-center">
                        <h3 class="text-xl font-bold mb-3 text-gray-800">${p.name}</h3>
                        <div class="text-yellow-700 text-2xl font-black mb-6">${p.price} <span class="text-xs font-normal">Ø¯Ø¬</span></div>
                        <button onclick="openProduct(${p.id})" class="w-full bg-gray-900 text-white py-4 rounded-2xl font-bold hover:bg-yellow-600 transition-all duration-300 shadow-xl shadow-gray-200">Ø§Ø·Ù„Ø¨Ù‡Ø§ Ø§Ù„Ø¢Ù†</button>
                    </div>
                </div>
            `).join('');
            
            const adminList = document.getElementById('admin-product-list');
            if(adminList) {
                adminList.innerHTML = products.map(p => `
                    <div class="flex justify-between items-center bg-gray-50 p-4 rounded-2xl border border-gray-100">
                        <div class="flex items-center gap-3">
                            <img src="${p.img}" class="w-10 h-10 rounded-lg object-cover">
                            <span class="text-sm font-bold truncate max-w-[200px]">${p.name}</span>
                        </div>
                        <button onclick="deleteProduct(${p.id})" class="text-red-500 text-xs font-bold hover:underline">Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬</button>
                    </div>
                `).join('');
            }
        }

        function showAdminLogin() { document.getElementById('admin-login').classList.remove('hidden'); }
        function hideAdminLogin() { document.getElementById('admin-login').classList.add('hidden'); }
        
        function checkPassword() {
            if(document.getElementById('admin-password').value === ADMIN_PASS) {
                hideAdminLogin();
                document.getElementById('admin-panel').classList.remove('hidden');
                document.getElementById('tg-token').value = settings.token || '';
                document.getElementById('tg-chatid').value = settings.chatid || '';
                document.getElementById('tg-chatid2').value = settings.chatid2 || '';
            } else alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!");
        }

        function logoutAdmin() { document.getElementById('admin-panel').classList.add('hidden'); }

        function addProduct() {
            const name = document.getElementById('p-name').value;
            const price = document.getElementById('p-price').value;
            const img = document.getElementById('p-image').value;
            const desc = document.getElementById('p-desc').value;
            const colors = document.getElementById('p-colors').value;
            if(!name || !price) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©");
            products.push({ id: Date.now(), name, price: parseInt(price), img, desc, colors: colors.split(',').map(c => c.trim()) });
            localStorage.setItem('watches_db', JSON.stringify(products));
            renderProducts();
            alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø§Ø¹Ø© Ù„Ù„Ù…ØªØ¬Ø± Ø¨Ù†Ø¬Ø§Ø­ âœ¨");
        }

        function deleteProduct(id) {
            if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ØŸ")) {
                products = products.filter(p => p.id !== id);
                localStorage.setItem('watches_db', JSON.stringify(products));
                renderProducts();
            }
        }

        function saveSettings() {
            settings = { token: document.getElementById('tg-token').value, chatid: document.getElementById('tg-chatid').value, chatid2: document.getElementById('tg-chatid2').value };
            localStorage.setItem('tg_config', JSON.stringify(settings));
            alert("ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø¨Ø· Ø¨Ù†Ø¬Ø§Ø­");
        }

        function openProduct(id) {
            const p = products.find(x => x.id == id);
            selectedColor = p.colors[0] || "#000";
            currentDeliveryPrice = 0;
            const content = document.getElementById('modal-content');
            
            content.innerHTML = `
                <div class="flex flex-col gap-6">
                    <div class="relative group">
                        <img src="${p.img}" class="w-full rounded-[30px] shadow-2xl transition duration-500 group-hover:scale-[1.02]">
                    </div>
                    <div class="bg-gray-50 p-6 rounded-[25px] border border-gray-100 italic text-sm text-gray-500 leading-relaxed">
                        "${p.desc}
                    </div>
                </div>
                <div>
                    <h2 class="text-4xl font-black mb-2 text-gray-800">${p.name}</h2>
                    <div class="text-3xl text-yellow-700 font-bold mb-8">${p.price} <span class="text-sm">Ø¯Ø¬</span></div>
                    
                    <div class="mb-8">
                        <span class="block text-sm font-bold text-gray-400 mb-4 tracking-widest uppercase">Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ§Ø­Ø©</span>
                        <div class="flex gap-4">
                            ${p.colors.map((c, i) => `<div onclick="selectColor(this, '${c}')" class="color-dot ${i === 0 ? 'active' : ''}" style="background-color: ${c}"></div>`).join('')}
                        </div>
                    </div>

                    <form onsubmit="confirmOrder(event, ${p.id})" class="space-y-5 border-t border-gray-100 pt-8">
                        <input type="text" id="u-name" required placeholder="Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„ Ù‡Ù†Ø§" class="w-full p-4 bg-gray-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-yellow-600 transition-all">
                        <input type="tel" id="u-phone" required placeholder="Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ Ù„Ù„ØªÙˆØ§ØµÙ„" class="w-full p-4 bg-gray-50 border-none rounded-2xl outline-none text-left" dir="ltr">
                        
                        <div class="relative">
                            <select id="u-wilaya" required class="w-full p-4 bg-gray-50 border-none rounded-2xl outline-none appearance-none cursor-pointer focus:ring-2 focus:ring-yellow-600" onchange="updateTotal(${p.price})">
                                <option value="">Ø§Ø®ØªØ± ÙˆÙ„Ø§ÙŠØªÙƒ (58 ÙˆÙ„Ø§ÙŠØ©)</option>
                                ${WILAYAS_DATA.map(w => `<option value="${w.name}" data-price="${w.price}">${w.name}</option>`).join('')}
                            </select>
                            <div class="absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none">â–¼</div>
                        </div>

                        <input type="text" id="u-commune" required placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„ (Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©/Ø§Ù„Ø´Ø§Ø±Ø¹)" class="w-full p-4 bg-gray-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-yellow-600">
                        
                        <div class="flex items-center justify-between p-4 bg-gray-900 text-white rounded-2xl">
                            <span class="font-bold">Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</span>
                            <div class="flex items-center gap-4">
                                <button type="button" onclick="changeQty(-1, ${p.price})" class="w-8 h-8 rounded-full bg-white/20 hover:bg-white/40 font-bold">-</button>
                                <span id="u-qty-display" class="w-6 text-center font-bold">1</span>
                                <button type="button" onclick="changeQty(1, ${p.price})" class="w-8 h-8 rounded-full bg-white/20 hover:bg-white/40 font-bold">+</button>
                            </div>
                        </div>

                        <div class="bg-gray-50 p-6 rounded-3xl space-y-3">
                            <div class="flex justify-between text-sm text-gray-500"><span>ØªÙƒÙ„ÙØ© Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„Ù„Ø¨ÙŠØª:</span> <span id="delivery-cost">0 Ø¯Ø¬</span></div>
                            <div class="flex justify-between font-black text-2xl pt-3 border-t border-gray-200 text-gray-900"><span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span> <span id="total-price">${p.price} Ø¯Ø¬</span></div>
                        </div>

                        <button type="submit" id="orderBtn" class="w-full bg-yellow-600 text-white py-5 rounded-2xl font-bold text-xl shadow-2xl shadow-yellow-600/30 hover:bg-yellow-700 hover:-translate-y-1 transition-all duration-300">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
                        <p class="text-center text-[10px] text-gray-400">Ø§Ù„Ø¯ÙØ¹ ÙŠÙƒÙˆÙ† Ù†Ù‚Ø¯Ø§Ù‹ Ø¹Ù†Ø¯ Ø¨Ø§Ø¨ Ù…Ù†Ø²Ù„Ùƒ Ø¨Ø¹Ø¯ ÙØ­Øµ Ø§Ù„Ø³Ø§Ø¹Ø©</p>
                    </form>
                </div>
            `;
            document.getElementById('modal').classList.remove('hidden');
        }

        let currentQty = 1;
        function changeQty(val, price) {
            currentQty = Math.max(1, currentQty + val);
            document.getElementById('u-qty-display').innerText = currentQty;
            updateTotal(price);
        }

        function selectColor(el, color) {
            document.querySelectorAll('.color-dot').forEach(d => d.classList.remove('active'));
            el.classList.add('active');
            selectedColor = color;
        }

        function updateTotal(price) {
            const wilayaSelect = document.getElementById('u-wilaya');
            const selectedOption = wilayaSelect.options[wilayaSelect.selectedIndex];
            currentDeliveryPrice = parseInt(selectedOption.getAttribute('data-price')) || 0;
            
            document.getElementById('delivery-cost').innerText = currentDeliveryPrice + " Ø¯Ø¬";
            document.getElementById('total-price').innerText = (price * currentQty + currentDeliveryPrice) + " Ø¯Ø¬";
        }

        function closeModal() { 
            document.getElementById('modal').classList.add('hidden'); 
            currentQty = 1; 
        }

        async function confirmOrder(e, pid) {
            e.preventDefault();
            if(!settings.token || !settings.chatid) return alert("ÙŠØ±Ø¬Ù‰ Ø¶Ø¨Ø· Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ø£ÙˆÙ„Ø§Ù‹");

            const p = products.find(x => x.id == pid);
            const msg = `
ğŸ†• Ø·Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ù„Ø¨ Ø¬Ø¯ÙŠÙ€Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ø¯ ğŸ›ï¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âŒš Ø§Ù„Ù…Ù†ØªØ¬: ${p.name}
ğŸ¨ Ø§Ù„Ù„ÙˆÙ†: ${selectedColor}
ğŸ”¢ Ø§Ù„ÙƒÙ…ÙŠØ©: ${currentQty}
ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${document.getElementById('u-name').value}
ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${document.getElementById('u-phone').value}
ğŸ“ Ø§Ù„ÙˆÙ„Ø§ÙŠØ©: ${document.getElementById('u-wilaya').value}
ğŸ™ï¸ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${document.getElementById('u-commune').value}
ğŸšš Ø§Ù„ØªÙˆØµÙŠÙ„: ${currentDeliveryPrice} Ø¯Ø¬
ğŸ’µ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${document.getElementById('total-price').innerText}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            `;

            const btn = document.getElementById('orderBtn');
            btn.disabled = true;
            btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨...";

            try {
                const urls = [
                    `https://api.telegram.org/bot${settings.token}/sendMessage?chat_id=${settings.chatid}&text=${encodeURIComponent(msg)}`
                ];
                if(settings.chatid2) urls.push(`https://api.telegram.org/bot${settings.token}/sendMessage?chat_id=${settings.chatid2}&text=${encodeURIComponent(msg)}`);

                await Promise.all(urls.map(url => fetch(url)));

                closeModal();
                document.getElementById('success-notif').classList.remove('hidden');
                setTimeout(() => document.getElementById('success-notif').classList.add('hidden'), 5000);
            } catch (err) { alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„"); } finally { btn.disabled = false; btn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†"; }
        }

        renderProducts();
    </script>
</body>

</html>







